CREATE OR REPLACE FUNCTION comp.write_sql_log(sql_text text)
 RETURNS void
 LANGUAGE plpgsql
AS $function$
DECLARE
MASTER_LOG_ID		NUMERIC;
MASTER_LOG_SCHEMA 	NUMERIC;
BEGIN
	SELECT ID, ID_DATABASE_SCHEMA INTO MASTER_LOG_ID, MASTER_LOG_SCHEMA FROM TB_LOG ORDER BY ID DESC LIMIT 1;

	BEGIN
		INSERT INTO COMP.LOG_SYNCHRONIZER(ID_SUP,ID_DATABASE_SCHEMA,SQL_TEXT)
		VALUES
		(MASTER_LOG_ID,MASTER_LOG_SCHEMA,$1);
	EXCEPTION WHEN unique_violation THEN
	END;			
END;
$function$
