CREATE OR REPLACE FUNCTION comp.show_log()
 RETURNS text
 LANGUAGE plpgsql
AS $function$
DECLARE
VRESULT TEXT := '';
REC RECORD;
BEGIN
	FOR REC IN
		SELECT 	ADITIONAL_TEXT,
			SQL_TEXT
		FROM	COMP.LOG_SYNCHRONIZER
		WHERE	ADITIONAL_TEXT IS NOT NULL
		OR	SQL_TEXT IS NOT NULL
	LOOP
		IF (REC.ADITIONAL_TEXT IS NOT NULL) THEN
			VRESULT := VRESULT || SUBSTRING(REC.ADITIONAL_TEXT FROM 1 FOR 50) || chr(13) || chr(10);
		ELSE
			VRESULT := VRESULT || SUBSTRING(REC.SQL_TEXT FROM 1 FOR 50) || chr(13) || chr(10);
		END IF;
	END LOOP;

	RETURN VRESULT;
END;
$function$
